# 代理服务器解决跨域

- 我们在向服务器发送请求时会遇到跨域的问题，（违背同源策略的就叫做跨域）

- 除了使用jsonp和cors方案来解决跨域问题我们还会常使用代理服务器来解决跨域的问题

  跨域只存在于客户端的ajax请求，服务器与服务器之间没有跨域问题

### 正向代理：

- 正向代理会代理多个客户端，首先由客户端发送请求，然后代理服务器接收请求，代理服务器是与被请求的服务器之间是没有跨域的，所以代理服务器接受了请求服务器的数据并且返回给客户端
- 使用正向代理：
  - 修改vue脚手架的配置文件 在项目根目录创建vue.config.js文件
  - 当你启动脚手架时，读取这个文件配置从而修改脚手架配置
  - 在webpack里面有一个devserver.proxy

```js
module.exprots ={
devServer:{
//第一种写法
//开启代理服务器,设置目标服务器地址为http://localhost:3000
//将来如果客户端发送请求到代理服务器上,代理服务器会自动将请求转发给请求的服务器
//请求地址:http://localhost:8080/api/search/users
//重写为:http://localhost:8080/search/users
//并且转发请求到target地址(目标服务器地址)去
  proxy:"http://localhost:3000",
//当请求地址以/api开头,当前代理配置生效
//会将请求地址重写,将请求地址/api替换为空
"api":{
target:"http://localhost:3000",
//重写请求地址
pathRewrite:{'^/api':''}
}
  }
}
```



### 反向代理：

- 根据我们当前的ip地址和我们当前服务器的情况来判断现在最适合你请求的服务器，他们会把服务器散布在全国的各地。

- 比如我们的cdn连接就是使用的反向代理，代理会管理N台服务器，来寻找最适合你的服务器来响应给你（也被称为隐藏服务器）nginx可以被用来做反向代理

  

  

